<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Performs Gibbs sampling for calibration — calibratedva • CalibratedVA</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Performs Gibbs sampling for calibration — calibratedva" />
<meta property="og:description" content="Takes in estimated causes (or cause probabilities) for both a
representative set of deaths without labels, and an unrepresentative set
of deaths with labels, and estimates the calibrated CSMF" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CalibratedVA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CalibratedVA.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jfiksel/CalibratedVA/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Performs Gibbs sampling for calibration</h1>
    <small class="dont-index">Source: <a href='https://github.com/jfiksel/CalibratedVA/blob/master/R/calibration.R'><code>R/calibration.R</code></a></small>
    <div class="hidden name"><code>calibratedva.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes in estimated causes (or cause probabilities) for both a
representative set of deaths without labels, and an unrepresentative set
of deaths with labels, and estimates the calibrated CSMF</p>
    </div>

    <pre class="usage"><span class='fu'>calibratedva</span>(
  <span class='no'>A_U</span>,
  <span class='kw'>A_L</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>G_L</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>causes</span>,
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"mshrink"</span>, <span class='st'>"pshrink"</span>),
  <span class='kw'>nchains</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>ndraws</span> <span class='kw'>=</span> <span class='fl'>10000</span>,
  <span class='kw'>burnin</span> <span class='kw'>=</span> <span class='fl'>1000</span>,
  <span class='kw'>thin</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>pseudo_samplesize</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>delta</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>epsilon</span> <span class='kw'>=</span> <span class='fl'>0.001</span>,
  <span class='kw'>tau</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>init.seed</span> <span class='kw'>=</span> <span class='fl'>123</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>A_U</th>
      <td><p>When using cause of death predictions from a single algorithm, this
will be a matrix, where each row gives the predicted cause of death probabilities for
an individual death, for individuals without cause of death labels. Each column represents
a cause. If using the top cause, one entry in each row should be 1, while the rest should be 0.
When using predictions from multiple algorithms for the ensemble approach, this should
be a list of matrices with algorithm predictions for the same individuals, where each
entry in the list are predictions from a given algorithm. See examples for more information</p></td>
    </tr>
    <tr>
      <th>A_L</th>
      <td><p>A matrix or list in the same format as A_U, but for individuals with labeled
causes of death. If there are no individuals with labeled causes, leave as NULL</p></td>
    </tr>
    <tr>
      <th>G_L</th>
      <td><p>A matrix where each row represents either the true cause for an individual
with a labeled cause of death (i.e. if the label for individual i is cause j, then
G_L[i,j] will be 1, and the other entries of that row will be 0), or the probabilities
that each individual died of a certain cause. The rows of <code>G_L</code> should correspond
to the rows of <code>A_L</code> (or the rows of each element of <code>A_L</code> if it is a list)</p></td>
    </tr>
    <tr>
      <th>causes</th>
      <td><p>A character vector with the names of the causes. These should correspond to
the columns of <code>A_U</code>, <code>A_L</code>, and <code>G_L</code></p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>One of either "mshrink" (default) for M-shrinkage or "pshrink" for p-shrinkage</p></td>
    </tr>
    <tr>
      <th>nchains</th>
      <td><p>The number of chains. Default is 3</p></td>
    </tr>
    <tr>
      <th>ndraws</th>
      <td><p>Number of draws in each chain. Default is 10,000</p></td>
    </tr>
    <tr>
      <th>burnin</th>
      <td><p>Number of burnin samples. Default is 1,000</p></td>
    </tr>
    <tr>
      <th>thin</th>
      <td><p>Thinning parameter. Default is no thinning</p></td>
    </tr>
    <tr>
      <th>pseudo_samplesize</th>
      <td><p>The number of pseudo samples (T) used for the 
Gibbs Sampler using rounding and coarsening. Default is 100.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>A numeric value for the alpha in the prior of gamma when using M-shrinkage.
Higher values (relative to beta) leads to more shrinkage. Default is 5. If using
the ensemble model, a vector of length K can be used (where K is the number of algorithms).</p></td>
    </tr>
    <tr>
      <th>beta</th>
      <td><p>A numeric value for the beta in the prior of gamma when using M-shrinkage.
Default is .5.</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>A numeric value for the lambda in the prior of p for p-shrinkage.
Higher values leads to more shrinkage. Default is 1.
#' @param delta A numeric value for the delta in the prior of p. Only used for
M-shrinkage sampling.</p></td>
    </tr>
    <tr>
      <th>epsilon</th>
      <td><p>A numeric value for the epsilon in the prior of M. Default is .001.</p></td>
    </tr>
    <tr>
      <th>init.seed</th>
      <td><p>The initial seed for L’Ecuyer-CMRG RNG stream generation. Default is 123.</p></td>
    </tr>
    <tr>
      <th>tau.vec</th>
      <td><p>A numeric vector for the log standard deviation for the sampling distributions
of the gammas. Only used for M-shrinkage sampling.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with the following components.</p><dl'>
  <dt>samples</dt><dd><p>A <code><a href='https://rdrr.io/pkg/coda/man/mcmc.list.html'>mcmc.list</a></code> object containing the posterior samples
  for p, M, and gamma (if using M-shrinkage)</p></dd>
  <dt>A_U</dt><dd><p>The value of <code>A_U</code> using for the posterior samples</p></dd>
  <dt>A_L</dt><dd><p>The value of <code>A_L</code> using for the posterior samples</p></dd>
  <dt>G_L</dt><dd><p>The value of <code>G_L</code> using for the posterior samples</p></dd>

</dl>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jacob Fiksel, Abhirup Datta.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


